(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{620:function(s,a,t){"use strict";t.r(a);var n=t(13),r=Object(n.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("blockquote",[t("p",[s._v("ldap笔记 --20190403")])]),s._v(" "),t("br"),s._v(" "),t("h2",{attrs:{id:"_1、介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1、介绍"}},[s._v("#")]),s._v(" 1、介绍")]),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("LADP基本介绍\nLDAP（轻量级目录访问协议）以目录的形式来管理资源（域用户，用户组，地址簿，邮件用户，打印机等等）。\nhttps"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnblogs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("itzxy"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9566548.")]),s._v("html\n\n特点：\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.")]),s._v(" LDAP是一种网略协议而不是数据库，而且LDAP的目录不是关系型的，没有RDBMS那么复杂，LDAP不支持数据库的"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Transaction")]),s._v("机制，纯粹的无状态，请求"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("响应的工作模式。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.")]),s._v(" LDAP不能存储BOLB"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("LDAP的读写操作是非对称的，读的方便，写的比较麻烦，LDAP支持复杂的查询过滤器。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.")]),s._v(" LDAP使用树状结构，接近于公司组织结构，文件目录结构，域名结构等。\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.")]),s._v(" LDAP使用简单，接口标准，并支持SSL访问。\n\n用途：\n信息安全类：数字证书管理，授权管理，单点登陆\n科学计算类："),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("DCE")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("分布式计算环境"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("，"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("UDDI")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("统一描述，发现和集成协议"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n网络资源管理类：MAIL系统，DNS系统，网络用户管理，电话号码簿。\n电子政府资源管理类：内网组织信息服务，电子政务目录体系，人口基础库，法人基础库。\n\n结构：\n一颗目录信息树有若干条目（"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Entry")]),s._v("）组成，每一个条目有唯一的标识名"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("DN")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Distingushed")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Name")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("条目可以用来描述用户账号，打印机和计算机等对象。一个条目是一个对象，每个条目有多个属性（"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Attribute")]),s._v("）组成，每一属性有一个类型和一个到多个值组成，每个属性可以对应一个或多个值（"),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Value")]),s._v("）。\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br")])]),t("h2",{attrs:{id:"_2、安装"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2、安装"}},[s._v("#")]),s._v(" 2、安装")]),s._v(" "),t("blockquote",[t("p",[s._v("安装ldap和berkeley-db")])]),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("可以使用 db-5.3.21.tar.gz 和 openldap-2.4.33.tgz\n\n安装ldap参考   https://blog.csdn.net/qiang359503893/article/details/44858491\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、安装Berkeley DB\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://download.oracle.com/berkeley-db/db-4.6.21.tar.gz\n解压缩\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("tar")]),s._v(" zxvf berkeley-db-4.6.21.tar.gz\n配置，编译，安装.\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" db-4.6.21/build_unix/\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v("/dist/configure --prefix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/berkeleyDB\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("、\n"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("make")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n\n注意：安装完成后把执行\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  cp /usr/local/berkeleyDB/include/* /usr/include/")]),s._v("\n "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#  cp /usr/local/berkeleyDB/lib/* /usr/lib/")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、配置berkeleyDB 环境变量\nvi "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("~")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("bash_profile\n添加：\nCPPFLAGS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-I/usr/local/berkeleyDB/include"')]),s._v("\nexport "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("CPPFLAGS")]),s._v("\nLDFLAGS"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"-L/usr/local/lib -L/usr/local/berkeleyDB/lib -R/usr/local/berkeleyDB/lib"')]),s._v("\nexport "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("LDFLAGS")]),s._v("\nLD_LIBRARY_PATH"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"/usr/local/berkeleyDB/lib"')]),s._v("\nexport LD_LIBRARY_PATH\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、安装openLDAP\n wget ftp"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("ftp"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("pub"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("OpenLDAP")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("release"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".40")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tgz\n\n# tar "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("xzvf  openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".15")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("tgz\n# cd openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".15")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("\n# "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("/configure "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("--")]),s._v("prefix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap\n# make depend\n# make "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" make install\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br")])]),t("h2",{attrs:{id:"_3、配置"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3、配置"}},[s._v("#")]),s._v(" 3、配置")]),s._v(" "),t("blockquote",[t("p",[s._v("设置lapd配置文件 及导入初始化数据")])]),s._v(" "),t("div",{staticClass:"language-c line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-c"}},[t("code",[s._v("安装完成后配置slapd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n注：Slapd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf 位于"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("插入下面六条记录\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("schema"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("cosine"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("schema \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("schema"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("inetorgperson"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("schema \n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("schema"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("nis"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("schema\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("schema"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("org"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("schema\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("schema"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("user"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("schema\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("schema"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("group"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("schema\n\n以及\n\n"),t("span",{pre:!0,attrs:{class:"token macro property"}},[t("span",{pre:!0,attrs:{class:"token directive-hash"}},[s._v("#")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token expression"}},[s._v("Indices to maintain")])]),s._v("\nindex objectClass                       eq"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pres \nindex ou"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("cn"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("mail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("surname"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("givenname      eq"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pres"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sub \nindex uidNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("gidNumber"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("loginShell    eq"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pres \nindex uid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("memberUid                     eq"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pres"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sub \nindex nisMapName"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("nisMapEntry            eq"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("pres"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("sub\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("将schema文件夹下的文件拖入路径为：\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("schema下的user，group，org三个schema\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("设置密码 root "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" pwd12344\n\nvi "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("local")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("etc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("slapd"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("conf\n\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("database")]),s._v("         "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("bdb")]),s._v("\nsuffix          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=stech,dc=com"')]),s._v("\nrootdn          "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=root,dc=stech,dc=com"')]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Cleartext passwords, especially for the rootdn, should")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# be avoid.  See slappasswd(8) and slapd.conf(5) for details.")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# Use of strong authentication encouraged.")]),s._v("\nrootpw          {MD5}"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("jnSmZCVnBZyaTmptpc73w"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('产生加密密码散列的方法是使用slappasswd命令，用-h选项指明加密时使用的方式。示例如下：\n[root@localhost openldap]# /usr/local/openldap/sbin/slappasswd -h {MD5}\nNew password: \nRe-enter new password: \n{MD5}5jnSmZCVnBZyaTmptpc73w==\n\n\n设置读写权限\nhttp://blog.sina.com.cn/s/blog_4152a9f50100qw9w.html\nhttp://www.cnitblog.com/tacimoto/archive/2006/12/19/20773.html\n\naccess to * \n\t\tby anonymous auth\n\t\tby dn.subtree="ou=aclUsers,dc=stech,dc=com"  write\n\t\tby dn.subtree="ou=aclDisabledUsers,dc=stech,dc=com"  none\n\t\tby * read\n\naccess to dn.subtree="dc=stech,dc=com" \n\t\tby anonymous  auth\n        by dn.subtree="ou=aclUsers,dc=stech,dc=com"  write\n\t\tby dn.subtree="ou=aclDisabledUsers,dc=stech,dc=com"  none\t\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br")])]),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("权限控制\n\t普通用户 ou=people\n\t\t能通过登录验证，但是进入软件时:LDAP error:无此对象\n\t\n\t禁用账号 ou=aclDisabledUsers  \n\t\t能通过登录验证，但是进入软件时:LDAP error:无此对象\n\n\t只读账号 ou=aclReadUsers  \n\t\t能登录，能查看所有用户，不能维护（增删改都没有权限）\n\n\t读写账号 ou=aclUsers\n\t\t登录，增删改查都可以\n\t\t\n\t指定账户授权\n\t\n\t隐藏密码\n\t\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br")])]),t("hr"),s._v(" "),t("div",{staticClass:"language-sh line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[s._v("启动LDAP\n　\t/usr/local/openldap/libexec/slapd  -d256 \n\n/usr/local/etc/libexec/slapd\n\n关闭LDAP\n\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -INT "),t("span",{pre:!0,attrs:{class:"token variable"}},[t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /usr/local/openldap/var/run/slapd.pid"),t("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n\t（或者 "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" -ef"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" ldap    再  "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("kill")]),s._v(" -9 id）\n\n查看ldap是否运行\n\t/usr/local/openldap/bin/ldapsearch -x -b "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("''")]),s._v(" -s base"),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'(objectclass=*)'")]),s._v("\n\n通过配置文件导入数据\n \n\t/usr/local/openldap/bin/ldapadd -x -W -D "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=root,dc=stech,dc=com"')]),s._v(" -f  /usr/local/openldap/bin/ldap-initData.ldif\n \n\t/usr/local/openldap/bin/ldapadd -x -D "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=root,dc=stech,dc=com"')]),s._v(" -w pwd12344 -f /usr/local/openldap/bin/ldap-initData.ldif\n\n\t/usr/local/openldap/bin/ldapadd -x -W -D "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=root,dc=stech,dc=com"')]),s._v("\n\n备份\n\t/usr/local/openldap/sbin/slapcat "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" backup.ldif\n\t/usr/local/openldap/sbin/slapcat "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" /usr/local/openldap/bin/backup.ldif\n\n查询条目\n\t/usr/local/openldap/bin/ldapsearch -x -b "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=stech,dc=com"')]),s._v("\n\t/usr/local/openldap/bin/ldapsearch -x -b "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uid=test2,ou=people,dc=stech,dc=com"')]),s._v("\n\t/usr/local/openldap/bin/ldapsearch -x -b "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uid=0121140114,ou=People,dc=shcc,dc=edu,dc=cn"')]),s._v("\n\n删除\n\t/usr/local/openldap/bin/ldapdelete -x -D "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'cn=root,dc=stech,dc=com'")]),s._v(" -w pwd12344 "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v("'uid=test2,ou=people,dc=stech,dc=com'")]),s._v(" \n \n导入数据（如果是备份的数据，需要过滤掉系统信息）\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、新建过滤正则表达式slapcat.regex\n\t\t"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /usr/local/openldap/sbin/\n\t\t\n\t\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("slapcat.regex "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v("EOF\n\t\t/^creatorsName: /d\n\t\t/^createTimestamp: /d\n\t\t/^modifiersName: /d\n\t\t/^modifyTimestamp: /d\n\t\t/^structuralObjectClass: /d\n\t\t/^entryUUID: /d\n\t\t/^entryCSN: /d\n\t\tEOF\n\t\n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、过滤系统信息\n\t\t"),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" backup.ldif "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -f slapcat.regex "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" backup1.ldif\n \n\t"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、导入数据\n\t\t/usr/local/openldap/bin/ldapadd -x -D "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=root,dc=stech,dc=com"')]),s._v(" -w pwd12344 -f backup1.ldif\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br")])]),t("h2",{attrs:{id:"_4、报错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4、报错"}},[s._v("#")]),s._v(" 4、报错")]),s._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[s._v("启动"),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("LDAP")]),s._v("报错\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libexec"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("slapd  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d256\n5b62c60d @"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("#"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" $OpenLDAP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" slapd "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".33")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Aug  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("14")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" $\n\troot@localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("localdomain"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".33")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("servers"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("slapd\n5b62c60d bdb_db_open"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" warning "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v(" no "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DB_CONFIG")]),s._v(" file found "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" directory "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("data"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\nExpect poor performance "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" suffix "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=stech,dc=com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n5b62c60d "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bdb")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("stech"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("dc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BDB1539")]),s._v(" Build signature doesn't match environment\n5b62c60d bdb_db_open"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" database "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=stech,dc=com"')]),s._v(" cannot be opened"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" err "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30969.")]),s._v(" Restore from backup"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n5b62c60d "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bdb")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("stech"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("dc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("BDB1566")]),s._v(" txn_checkpoint "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("interface")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("requires")]),s._v(" an environment configured "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" the transaction subsystem\n5b62c60d bdb_db_close"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" database "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=stech,dc=com"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" txn_checkpoint failed"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" Invalid "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("argument")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("22")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n5b62c60d "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("backend_startup_one")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("type"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("bdb"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" suffix"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=stech,dc=com"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" bi_db_open failed"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("30969")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n5b62c60d bdb_db_close"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" database "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"dc=stech,dc=com"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" alock_close failed\n5b62c60d slapd stopped"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n\n缺少配置文件\ncd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("data\ncp "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DB_CONFIG")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("example "),t("span",{pre:!0,attrs:{class:"token constant"}},[s._v("DB_CONFIG")]),s._v("\n\n或者删除"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("data目录下\n alock  __db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("001")]),s._v("  __db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("002")]),s._v("  __db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("003")]),s._v("  __db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("004")]),s._v("  __db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("005")]),s._v("  __db"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("006")]),s._v(" 等等\n \n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("===")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("==")]),s._v(" \n \n "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@localhost bin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("libexec"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("slapd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("d256\n5b63bd23 @"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("#"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" $OpenLDAP"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" slapd "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".33")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Aug  "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("08")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("03")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" $\n\troot@localhost"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("localdomain"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("src"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".33")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("servers"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("slapd\n5b63bd23 daemon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" failed errno"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Address already "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" use"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n5b63bd23 daemon"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("bind")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" failed errno"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("98")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Address already "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" use"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n5b63bd23 slapd stopped"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n5b63bd23 connections_destroy"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" nothing to destroy"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n\nps "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("ef"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v("grep ldap\nkill "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("9")]),s._v(" \n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br")])]),t("hr"),s._v(" "),t("div",{staticClass:"language-java line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("导入备份的ldif数据报错\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root"),t("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@localhost")]),s._v(" sbin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("# "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("usr"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("local"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("openldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("bin"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("ldapadd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("D")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"cn=root,dc=stech,dc=com"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("w pwd12344 "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f test2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ldif \nadding "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" entry "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"uid=test2,ou=people,dc=stech,dc=com"')]),s._v("\nldap_add"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Constraint")]),s._v(" violation "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tadditional info"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" structuralObjectClass"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" no user modification allowed\n\nhttps"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("www"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cnblogs"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("com"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("ccdc"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("p"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3356518.")]),s._v("html\n分析原因：slapcat备份出来的ldapback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ldif中有系统自动生成的系统信息不能导入需要清除\n\n解决方案：清除ldapback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ldif中的系统信息\n\n步骤：\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("、新建过滤正则表达式slapcat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("regex\n\ncat "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("slapcat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("regex "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<")]),s._v("EOF\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("creatorsName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("d\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("createTimestamp"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("d\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("modifiersName"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("d\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("modifyTimestamp"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("d\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("structuralObjectClass"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("d\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("entryUUID"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("d\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("^")]),s._v("entryCSN"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("d\nEOF\n\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("、过滤掉系统信息\n\ncat ldapback"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ldif "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" sed "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f slapcat"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("regex "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" slapdata"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ldif\n\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("、使用ldapadd导入\n\nldapadd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("H")]),s._v(" ldap"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".0")]),t("span",{pre:!0,attrs:{class:"token number"}},[s._v(".1")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("x "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("D")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[s._v('"用户"')]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("f slapdata"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ldif "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("w 密码\n#或 服务器程序导入 初始使用可能失败\n#slapadd "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("l slapdate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("ldif\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br")])])])}),[],!1,null,null,null);a.default=r.exports}}]);